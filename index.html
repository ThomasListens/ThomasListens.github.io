<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thomas LeRoy Meier - Links</title>
    <style>
        * {
            margin: 0; padding: 0; box-sizing: border-box;
        }
        body {
            font-family: 'Courier New', 'Monaco', 'Menlo', 'Consolas', monospace;
            background: #000;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            color: #fff;
            font-weight: normal;
        }
        .container {
            max-width: 400px;
            width: 100%;
            text-align: center;
            animation: fadeInUp 0.8s ease-out;
            z-index: 10;
            position: relative;
        }
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(30px);}
            to   { opacity: 1; transform: translateY(0);}
        }
        .profile-section {
            margin-bottom: 40px;
            position: relative;
        }
        .profile-image {
            width: 300px; height: 300px;
            border: 2px solid #333;
            margin: 0 auto 20px;
            background: #111;
            display: flex; align-items: center; justify-content: center;
            font-size: 48px;
            background-image: url('./TOWO ALBUM COVER.jpg');
            background-position: center;
            border-radius: 4px;
            overflow: hidden;
            position: relative;
            
            /* Start with zoomed background - using transform instead of background-size */
            background-size: cover;
        }
        
        .profile-image::before {
            content: '';
            position: absolute;
            top: -60%; left: -60%;
            width: 220%; height: 220%;
            background-image: url('./TOWO ALBUM COVER.jpg');
            background-size: cover;
            background-position: center;
            z-index: 1;
            transition: transform 2.5s ease-out;
            transform: scale(1);
        }
        
        .profile-image.slide-to-normal::before {
            transform: scale(0.45);
        }
        
        .profile-image:hover { 
            transform: scale(1.05);
            transition: transform 0.3s ease;
        }
        
        .cryptic-flash {
            position: absolute;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background-size: cover;
            background-position: center;
            opacity: 0;
            pointer-events: none;
            z-index: 5;
            border-radius: 4px;
        }
        
        .cryptic-flash.flash-active {
            animation: crypticGlitch 0.8s ease-in-out forwards;
        }
        
        @keyframes crypticGlitch {
            0% { 
                opacity: 0; 
                transform: translateX(0) scale(1);
                filter: brightness(1);
            }
            10% { 
                opacity: 0.95; 
                transform: translateX(1px) scale(1.01);
                filter: brightness(1.3) contrast(1.2);
            }
            20% { 
                opacity: 0.85; 
                transform: translateX(-1px) scale(1);
                filter: brightness(1.1) contrast(1.1);
            }
            30% { 
                opacity: 0.9; 
                transform: translateX(1px) scale(1);
                filter: brightness(1.2) contrast(1.15);
            }
            75% { 
                opacity: 0.88; 
                transform: translateX(0) scale(1);
                filter: brightness(1.05) contrast(1.05);
            }
            90% { 
                opacity: 0.7; 
                transform: translateX(0) scale(1);
                filter: brightness(1);
            }
            100% { 
                opacity: 0; 
                transform: translateX(0) scale(1);
                filter: brightness(1);
            }
        }
        .profile-image:hover { transform: scale(1.05);}
        .profile-name {
            font-size: 28px; font-weight: normal;
            margin-bottom: 20px; letter-spacing: 1px;
            color: #fff; text-transform: none;
            position: relative;
            display: inline-block;
        }
        
        .profile-name::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 0;
            width: 100%;
            height: 1px;
            background: rgba(255, 255, 255, 0.5);
        }
        
        .album-title {
            font-size: 28px; font-weight: 300;
            margin-bottom: 25px; letter-spacing: 2px;
            color: #fff; text-transform: none;
            position: relative;
            height: 35px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-left: -15px;
        }
        
        .letter {
            display: inline-block;
            opacity: 0;
            position: relative;
            transition: none;
        }

        .letter.flash {
            animation: whisperFlash 0.2s ease-out forwards;
        }

        @keyframes whisperFlash {
            0% {
                opacity: 0;
                transform: translateY(var(--random-y, 0)) scale(0.8);
            }
            50% {
                opacity: 1;
                transform: translateY(var(--random-y, 0)) scale(1.1);
                filter: brightness(2) blur(0.5px);
                text-shadow: 0 0 15px rgba(255,255,255,0.8);
            }
            100% {
                opacity: 1;
                transform: translateY(var(--random-y, 0)) scale(1);
                filter: brightness(1) blur(0);
                text-shadow: none;
            }
        }

        .album-word {
            opacity: 0;
            position: relative;
            margin: 0 8px;
        }

        .album-word.flash-word {
            animation: whisperWordFlash 0.3s ease-out forwards;
        }

        @keyframes whisperWordFlash {
            0% {
                opacity: 0;
                transform: scale(0.9);
            }
            40% {
                opacity: 1;
                transform: scale(1.05);
                filter: brightness(1.8) blur(0.5px);
                text-shadow: 0 0 12px rgba(255,255,255,0.6);
            }
            100% {
                opacity: 1;
                transform: scale(1);
                filter: brightness(1) blur(0);
                text-shadow: none;
            }
        }

        .album-title.final-reveal .album-word {
            opacity: 1;
            animation: none;
        }

        .album-title.final-reveal .album-word .letter {
            opacity: 1;
            transform: translateY(0) !important;
            animation: none;
        }

        /* Subtle continuous jitter for album title after reveal */
        .album-title.final-reveal {
            animation: subtleJitter 4s ease-in-out infinite;
        }

        @keyframes subtleJitter {
            0%, 100% { 
                transform: translateX(0) translateY(0); 
            }
            25% { 
                transform: translateX(0.8px) translateY(-0.5px); 
            }
            50% { 
                transform: translateX(-0.6px) translateY(0.8px); 
            }
            75% { 
                transform: translateX(0.4px) translateY(-0.3px); 
            }
        }

        .album-word.crossed-out::after {
            content: '';
            position: absolute;
            top: 50%;
            left: -3px;
            width: 0;
            height: 3px;
            background: #ff0000;
            transform: translateY(-50%);
            z-index: 10;
        }
        
        .album-word.crossed-out.show-cross::after {
            animation: simpleCrossOut 0.4s ease-out forwards;
        }
        
        @keyframes simpleCrossOut {
            0% {
                width: 0;
                opacity: 0;
            }
            100% {
                width: calc(100% + 6px);
                opacity: 0.9;
            }
        }
        
        .blood-drip {
            position: absolute;
            width: 3px;
            background: linear-gradient(to bottom, 
                #ff0000 0%, 
                #cc0000 30%, 
                #990000 60%, 
                #660000 100%);
            left: 50%;
            top: 360px;
            transform: translateX(-50%);
            height: 0;
            z-index: 1;
            box-shadow: 
                0 0 6px rgba(255,0,0,0.8),
                0 0 12px rgba(255,0,0,0.4);
            border-radius: 0 0 2px 2px;
            
            mask: linear-gradient(to bottom, 
                black 0%, 
                black 88%, 
                transparent 100%);
            -webkit-mask: linear-gradient(to bottom, 
                black 0%, 
                black 88%, 
                transparent 100%);
        }

        @keyframes bloodDrip {
            0% {
                height: 0;
                opacity: 0;
            }
            10% {
                height: 20px;
                opacity: 1;
            }
            100% {
                height: var(--drip-distance);
                opacity: 0.9;
            }
        }
      
        .profile-description {
            font-size: 14px; opacity: 0.8; margin-bottom: 30px;
            line-height: 1.4; color: #fff; letter-spacing: 0.5px;
        }
        .links-container {
            display: flex; flex-direction: column; gap: 8px;
            max-width: 320px; margin: 0 auto;
        }
        .link-item {
            background: rgba(255,255,255,0.03);
            border: 1px solid #333;
            border-radius: 0px;
            padding: 16px 20px;
            text-decoration: none;
            color: #fff;
            display: flex; align-items: center;
            font-weight: normal; font-size: 17px; letter-spacing: 2.5px;
            transition: all 0.3s ease;
            position: relative; overflow: hidden;
            text-transform: uppercase; z-index: 2;
            min-height: 56px;
            opacity: 0;
            transform: translateY(20px);
        }
        
        .link-item.reveal {
            animation: revealLink 0.8s ease-out forwards;
        }
        
        .link-item.reveal:not(.physical-copy) {
            animation: revealLink 0.8s ease-out forwards, linkJitter 6s ease-in-out infinite 1s;
        }
        
        @keyframes linkJitter {
            0%, 100% { 
                transform: translateY(0) translateX(0); 
            }
            20% { 
                transform: translateY(-0.3px) translateX(0.2px); 
            }
            40% { 
                transform: translateY(0.2px) translateX(-0.3px); 
            }
            60% { 
                transform: translateY(-0.1px) translateX(0.4px); 
            }
            80% { 
                transform: translateY(0.3px) translateX(-0.1px); 
            }
        }
        
        @keyframes revealLink {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .link-constellation {
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            pointer-events: none;
            z-index: 1;
            opacity: 0.1;
        }
        
        .link-star {
            position: absolute;
            background: radial-gradient(circle, rgba(255,255,255,0.8) 0%, rgba(255,255,255,0.3) 50%, transparent 100%);
            border-radius: 50%;
            width: 1px; height: 1px;
            animation: starTwinkle 4s ease-in-out infinite;
            box-shadow: 0 0 2px rgba(255,255,255,0.4);
        }
        
        .link-connection {
            position: absolute;
            background: linear-gradient(90deg, transparent 0%, rgba(255,255,255,0.1) 50%, transparent 100%);
            height: 0.5px;
            transform-origin: left center;
            animation: connectionPulse 6s ease-in-out infinite;
        }
        
        @keyframes starTwinkle {
            0%, 100% { opacity: 0.1; transform: scale(0.5); }
            50% { opacity: 0.4; transform: scale(1.2); }
        }
        
        @keyframes connectionPulse {
            0%, 100% { opacity: 0; transform: scaleX(0); }
            50% { opacity: 0.15; transform: scaleX(1); }
        }
        
        .link-item:hover .link-constellation {
            opacity: 0.25;
        }
        
        .link-item:hover .link-star {
            animation-duration: 2s;
        }
        .link-item.left  { justify-content: flex-start; }
        .link-item.center{ justify-content: center; }
        .link-item.right { justify-content: flex-end; }
        .link-item.physical-copy {
            color: #ff4444;
            border-color: #444;
            text-transform: none;
            font-size: 14px; letter-spacing: 1.8px;
        }
        .link-item:hover {
            border-color: #666; background: rgba(255,255,255,0.08);
            transform: translateY(-1px); color: #fff;
        }
        .link-item.physical-copy:hover {
            border-color: #ff4444; background: rgba(255,68,68,0.05);
        }
        .link-item::after {
            content: '';
            position: absolute; top: 0; right: 0; bottom: 0; width: 60%;
            background: linear-gradient(to right,rgba(255,255,255,0) 0%,rgba(255,255,255,0.01) 70%,rgba(255,255,255,0.02) 100%);
            pointer-events: none; z-index: 1;
        }
        
        .media-showcase {
            margin: 40px auto;
            text-align: center;
            max-width: 330px;
            opacity: 0;
            animation: none;
        }

        .media-showcase.reveal-media {
            animation: fadeInUp 0.8s ease-out forwards;
        }

        .showcase-image img, .showcase-video video {
    transition: transform 0.3s ease, opacity 0.3s ease;
    opacity: 0.9;
}

        .showcase-image img {
    animation: subtleZoom 6.5s ease-in-out forwards;
}

@keyframes subtleZoom {
    0% {
        transform: scale(1);
        opacity: 0.9;
    }
    85% {
        transform: scale(1.03);
        opacity: 0.95;
    }
    100% {
        transform: scale(1.03);
        opacity: 0.95;
    }
}




        .showcase-image img:hover, .showcase-video video:hover {
            transform: scale(1.02);
            opacity: 1;
        }

        .slideshow-container {
            position: relative;
            max-width: 330px;
            margin: 0 auto;
        }

        .slide {
    display: none;
    opacity: 0;
    transition: opacity 1.2s ease-in-out;
}

.slide.active {
    display: block;
    opacity: 1;
}

.slide.fading-out {
    opacity: 0;
    transition: opacity 1.2s ease-in-out;
}

        .slideshow-nav {
            text-align: center;
            margin-top: 15px;
        }

        .nav-dot {
            height: 8px;
            width: 8px;
            margin: 0 4px;
            background-color: rgba(255,255,255,0.3);
            border: none;
            border-radius: 50%;
            display: inline-block;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .nav-dot:hover, .nav-dot.active {
            background-color: rgba(255,255,255,0.8);
            transform: scale(1.2);
        }

        .lyric-whisper {
            position: absolute; 
            font-size: 13px; 
            color: rgba(255, 68, 68, 0.7);
            font-weight: 300; 
            letter-spacing: 1.8px;
            text-transform: uppercase;
            pointer-events: none; 
            z-index: 3;
            opacity: 0;
            text-shadow: 0 0 10px rgba(255, 68, 68, 0.8), 0 0 20px rgba(255, 68, 68, 0.4);
            font-family: 'Courier New', monospace;
            filter: blur(0.2px);
            white-space: nowrap;
        }

        .lyric-whisper.single-word {
            animation-duration: 0.3s;
            color: rgba(255, 68, 68, 0.9);
            text-shadow: 
                2px 0 rgba(255, 68, 68, 0.8),
                -2px 0 rgba(68, 255, 255, 0.4),
                0 0 15px rgba(255, 68, 68, 0.9);
            filter: none;
        }

        .lyric-whisper.peripheral {
            font-size: 11px;
            opacity: 0.35;
            color: rgba(255, 255, 255, 0.6);
            letter-spacing: 3px;
            filter: blur(0.6px);
        }

        .lyric-whisper .letter {
            display: inline-block;
            position: relative;
        }

        .lyric-whisper .letter.up {
            transform: translateY(-1px);
        }

        .lyric-whisper .letter.down {
            transform: translateY(1px);
        }

        .lyric-whisper .letter.up2 {
            transform: translateY(-2px);
        }

        .lyric-whisper .letter.down2 {
            transform: translateY(2px);
        }
        
        /* Strategic positioning for each link - creating gradient toward the blood line */
        .link-item:nth-child(1) .lyric-whisper {
            right: 55px;
            top: 18px;
        }

        .link-item:nth-child(2) .lyric-whisper {
            left: 35px;
            bottom: 18px;
        }

        .link-item:nth-child(3) .lyric-whisper.bereal-left {
            left: 20px;
            top: 22px;
        }

        .link-item:nth-child(3) .lyric-whisper.bereal-right {
            right: 20px;
            top: 16px;
        }

        .link-item:nth-child(4) .lyric-whisper {
            right: 35px;
            bottom: 22px;
        }

        .link-item:nth-child(5) .lyric-whisper {
            left: 55px;
            top: 18px;
        }

        .lyric-whisper.active {
            animation: wordAppear 0.8s ease-in-out forwards;
        }

        .lyric-whisper.single-word.active {
            animation: glitchFlash 0.3s ease-in-out forwards;
        }

        .lyric-whisper.peripheral.active {
            animation: subliminalFlash 0.2s ease-in-out forwards;
        }

        @keyframes wordAppear {
            0% { opacity: 0; }
            50% { opacity: 0.9; }
            100% { opacity: 0.7; }
        }

        @keyframes glitchFlash {
            0% { opacity: 0; }
            20% { opacity: 1; transform: translateX(2px); }
            40% { opacity: 0.9; transform: translateX(-1px); }
            60% { opacity: 1; transform: translateX(1px); }
            80% { opacity: 0.8; transform: translateX(0); }
            100% { opacity: 0; transform: translateX(0); }
        }

        @keyframes subliminalFlash {
            0% { opacity: 0; }
            50% { opacity: 0.45; }
            100% { opacity: 0; }
        }

        .lyric-whisper.fade-out {
            animation: wordFadeOut 2s ease-in-out forwards;
        }

        @keyframes wordFadeOut {
            0% { opacity: 0.4; }
            100% { opacity: 0; }
        }
        
        .background-lattice {
            position: fixed; top: 0; left: 0;
            width: 100vw; height: 100vh;
            pointer-events: none; z-index: 1; opacity: 0.3;
        }
        .lattice-node {
            position: absolute;
            background: radial-gradient(circle,rgba(255,255,255,0.8) 0%,rgba(255,255,255,0.5) 30%,rgba(255,255,255,0.1) 70%,rgba(255,255,255,0) 100%);
            border-radius: 50%; width: 3px; height: 3px;
            box-shadow: 0 0 4px rgba(255,255,255,0.3);
            animation: nodePulse 30s ease-in-out infinite;
        }
        @keyframes nodePulse {
            0%,100%{opacity:0;transform:scale(0.3);}
            25%{opacity:0.6;transform:scale(1);}
            50%{opacity:0.8;transform:scale(1.2);}
            75%{opacity:0.4;transform:scale(0.8);}
        }
        .lattice-connection {
            position: absolute;
            background: linear-gradient(90deg,rgba(255,255,255,0) 0%,rgba(255,255,255,0.2) 50%,rgba(255,255,255,0) 100%);
            height: 1px; transform-origin: left center;
            animation: connectionFlow 40s ease-in-out infinite;
            box-shadow: 0 0 2px rgba(255,255,255,0.1);
        }
        @keyframes connectionFlow {
            0%,100%{opacity:0;transform:scaleX(0);}
            25%{opacity:0.3;transform:scaleX(0.6);}
            50%{opacity:0.5;transform:scaleX(1);}
            75%{opacity:0.2;transform:scaleX(0.4);}
        }
        .footer {
            margin-top: 50px;
            opacity: 0;
            font-size: 12px;
            color: #fff; letter-spacing: 0.8px; line-height: 1.6; text-align: center;
            animation: none;
        }

        .footer.reveal-footer {
            animation: fadeInUp 0.8s ease-out forwards;
        }
        .footer .quote-line { display: block; margin-bottom: 2px;}
        /* Ghost image system for alternate covers */
        .ghost-image {
            position: fixed;
            pointer-events: none;
            z-index: 0;
            opacity: 0;
            filter: blur(1px) grayscale(0.3);
            border-radius: 4px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.05);
            transition: opacity 8s ease-in-out, transform 20s linear;
        }

        .ghost-image.small {
            width: 120px;
            height: 120px;
        }

        .ghost-image.medium {
            width: 180px;
            height: 180px;
        }

        .ghost-image.large {
            width: 250px;
            height: 250px;
        }

        .ghost-image.active {
            opacity: 0.15;
        }

        .ghost-image.ethereal {
            opacity: 0.08;
            filter: blur(2px) grayscale(0.7);
        }

        .ghost-image.peripheral {
            opacity: 0.05;
            filter: blur(3px) grayscale(0.9);
        }

        /* Ghost movement animations */
        @keyframes ghostFloat {
            0% { transform: translate(0, 0) rotate(0deg); }
            25% { transform: translate(-10px, -15px) rotate(1deg); }
            50% { transform: translate(5px, -20px) rotate(-0.5deg); }
            75% { transform: translate(-5px, -10px) rotate(0.5deg); }
            100% { transform: translate(0, 0) rotate(0deg); }
        }

        @keyframes ghostDrift {
            0% { transform: translateY(0px) translateX(0px) rotate(0deg); }
            100% { transform: translateY(-100vh) translateX(20px) rotate(2deg); }
        }

        @keyframes ghostOrbit {
            0% { transform: rotate(0deg) translateX(150px) rotate(0deg); }
            100% { transform: rotate(360deg) translateX(150px) rotate(-360deg); }
        }
        @media (max-width: 480px) {
            .container {
                padding: 0 10px;
            }
            .profile-name {
                font-size: 24px;
            }
            .profile-image {
                width: 250px; height: 250px;
            }
            .link-item {
                padding: 14px 18px; font-size: 14px; letter-spacing: 2px;
            }
            .lyric-whisper { 
                font-size: 11px; 
                letter-spacing: 1.5px;
                text-shadow: 0 0 12px rgba(255, 68, 68, 0.9), 0 0 24px rgba(255, 68, 68, 0.5);
            }
            .lyric-whisper.peripheral {
                font-size: 10px;
                opacity: 0.4;
            }
            .blood-drip {
                top: 320px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="profile-section">
            <div class="profile-image">
                <div class="cryptic-flash" id="crypticFlash1"></div>
                <div class="cryptic-flash" id="crypticFlash2"></div>
                <div class="cryptic-flash" id="crypticFlash3"></div>
            </div>
            <h1 class="profile-name">Thomas LeRoy Meier</h1>
            <div class="blood-drip"></div>
            <div class="album-title">
                <span class="album-word">
                    <span class="letter">T</span><span class="letter">h</span><span class="letter">e</span>
                </span>
                <span class="album-word">
                    <span class="letter">O</span><span class="letter">n</span><span class="letter">l</span><span class="letter">y</span>
                </span>
                <span class="album-word">
                    <span class="letter">W</span><span class="letter">a</span><span class="letter">y</span>
                </span>
                <span class="album-word crossed-out">
                    <span class="letter">O</span><span class="letter">u</span><span class="letter">t</span>
                </span>
            </div>
        </div>
        <div class="links-container">
            <a href="spotify:album:4MdzvojXVyZTk90v1wXqRI" class="link-item left" target="_blank" style="padding-left: 28px;">
                <span>SPOTIFY</span>
                <div class="lyric-whisper"></div>
                <div class="link-constellation"></div>
            </a>
            
            <a href="music://music.apple.com/us/album/the-only-way-out/1833467317" class="link-item right" target="_blank" style="padding-left: 45px; font-size: 16px;">
                <span>APPLE MUSIC</span>
                <div class="lyric-whisper"></div>
                <div class="link-constellation"></div>
            </a>
            
            <a href="http://bere.al/heliotropic" class="link-item center" target="_blank" style="letter-spacing: 9px; padding-left: 28px;">
                <span>BeReal</span>
                <div class="lyric-whisper bereal-left"></div>
                <div class="lyric-whisper bereal-right"></div>
                <div class="link-constellation"></div>
            </a>
            
            <a href="https://www.instagram.com/tlmeier" class="link-item left" target="_blank" style="padding-right: 28px;">
                <span>INSTAGRAM</span>
                <div class="lyric-whisper"></div>
                <div class="link-constellation"></div>
            </a>
            
            <a href="https://www.facebook.com/tlmeier/" class="link-item right" target="_blank" style="padding-left: 28px;">
                <span>FACEBOOK</span>
                <div class="lyric-whisper"></div>
                <div class="link-constellation"></div>
            </a>
            
            <a href="https://buy.stripe.com/eVq6oHfPPblCcCOdtYcbC02">
                <span>Handmade Physical Copy &lt;3<br><span style="font-size: 11px; opacity: 0.7; letter-spacing: 1.2px;">[thank you for helping make more meaningful music]</span></span>
            </a>
        </div>
        
       <div class="media-showcase">
    <div class="slideshow-container">
        <!-- Slide 1: TL1 Image (6s) -->
        <div class="slide active" data-duration="6000">
            <div class="showcase-image">
                <img src="TL1.jpg" alt="Behind the scenes - TL1" style="width: 330px; height: 330px; object-fit: cover; border: 1px solid #333; border-radius: 4px;">
            </div>
        </div>
        
        <!-- Slide 2: TL2 Image (4s) -->
        <div class="slide" data-duration="4000">
            <div class="showcase-image">
                <img src="TL2.jpg" alt="Behind the scenes - TL2" style="width: 330px; height: 330px; object-fit: cover; border: 1px solid #333; border-radius: 4px;">
            </div>
        </div>
        
        <!-- Slide 3: TL3 Image (4s) -->
        <div class="slide" data-duration="4000">
            <div class="showcase-image">
                <img src="TL3.jpg" alt="Behind the scenes - TL3" style="width: 330px; height: 330px; object-fit: cover; border: 1px solid #333; border-radius: 4px;">
            </div>
        </div>
        
        <!-- Slide 4: TOWO Promo Video (auto-duration based on video length) -->
        <div class="slide" data-duration="0" data-video="true" data-audio="true">
            <div class="showcase-video">
                <video style="width: 330px; height: 330px; object-fit: cover; border: 1px solid #333; border-radius: 4px;" 
       preload="auto" 
       playsinline
       volume="0.35"
       onloadedmetadata="console.log('Video duration:', this.duration)" 
       onended="nextSlide()">
                    <source src="TOWO-Promo.mp4" type="video/mp4">
                    Your browser does not support the video tag.
                </video>
            </div>
        </div>
        
        <!-- Slide 5: TL1 Image repeat (6.5s) -->
        <div class="slide" data-duration="6500">
            <div class="showcase-image">
                <img src="TL1.jpg" alt="Behind the scenes - TL1" style="width: 330px; height: 330px; object-fit: cover; border: 1px solid #333; border-radius: 4px;">
            </div>
        </div>
        
        <!-- Slide 6: TL2 Image repeat (6.5s) -->
        <div class="slide" data-duration="6500">
            <div class="showcase-image">
                <img src="TL2.jpg" alt="Behind the scenes - TL2" style="width: 330px; height: 330px; object-fit: cover; border: 1px solid #333; border-radius: 4px;">
            </div>
        </div>
        
        <!-- Slide 7: TL3 Image repeat (6.5s) -->
        <div class="slide" data-duration="6500">
            <div class="showcase-image">
                <img src="TL3.jpg" alt="Behind the scenes - TL3" style="width: 330px; height: 330px; object-fit: cover; border: 1px solid #333; border-radius: 4px;">
            </div>
        </div>
        
        <!-- Slide 8: Cryptic Cut Video (auto-duration based on video length) -->
        <div class="slide" data-duration="0" data-video="true" data-audio="true">
            <div class="showcase-video">
                <video style="width: 330px; height: 330px; object-fit: cover; border: 1px solid #333; border-radius: 4px;" 
       preload="auto" 
       playsinline
       volume="0.35"
       onloadedmetadata="console.log('Video duration:', this.duration)" 
       onended="nextSlide()">
                    <source src="Cryptic-Cut.mp4" type="video/mp4">
                    Your browser does not support the video tag.
                </video>
            </div>
        </div>
    </div>
</div>

        <div class="footer">
            <span class="quote-line">"When the air is clear,</span>
            <span class="quote-line">you might hear the sounds."</span>
            <span class="author">- Pauline Oliveros</span>
        </div>
        
        <div class="background-cover"></div>
        <div class="spotlight-mask" id="spotlight"></div>
        <div class="background-lattice" id="backgroundLattice"></div>
    </div>
    <script>
    // Breathing cosmic soundscape - B drone with wandering harmonics
let audioContext;
let masterGain;
let etherealLFOGain;
let audioInitialized = false;
let activeTones = [];
let isDucking = false;

const fundamental = 123.47; // B2 drone

function createCloudTone(frequency, baseGain, breathRate, breathDepth, fadeInTime, sustainTime, fadeOutTime, startDelay) {
    const ct = audioContext.currentTime;
    
    const oscillator = audioContext.createOscillator();
    const gainNode = audioContext.createGain();
    const lfo = audioContext.createOscillator();
    const lfoGain = audioContext.createGain();
    
    lfo.type = 'sine';
    lfo.frequency.setValueAtTime(breathRate, ct);
    lfoGain.gain.setValueAtTime(baseGain * breathDepth, ct);
    
    lfo.connect(lfoGain);
    lfoGain.connect(gainNode.gain);
    oscillator.connect(gainNode);
    gainNode.connect(masterGain);
    
    oscillator.type = 'sine';
    oscillator.frequency.setValueAtTime(frequency, ct);
    
    gainNode.gain.setValueAtTime(0, ct + startDelay);
    gainNode.gain.linearRampToValueAtTime(baseGain, ct + startDelay + fadeInTime);
    gainNode.gain.setValueAtTime(baseGain, ct + startDelay + fadeInTime + sustainTime);
    gainNode.gain.linearRampToValueAtTime(0, ct + startDelay + fadeInTime + sustainTime + fadeOutTime);
    
    oscillator.start(ct + startDelay);
    lfo.start(ct + startDelay);
    
    const totalTime = startDelay + fadeInTime + sustainTime + fadeOutTime;
    oscillator.stop(ct + totalTime + 1);
    lfo.stop(ct + totalTime + 1);
    
    activeTones.push({ 
        osc: oscillator, 
        lfo: lfo,
        endTime: ct + totalTime
    });
    
    return totalTime;
}

function createToneCycle(toneConfig) {
    const { frequency, baseGain, breathRate, breathDepth, timing } = toneConfig;
    
    function scheduleTone() {
        if (!audioInitialized) return;
        
        const fadeIn = timing.fadeIn + Math.random() * 5;
        const sustain = timing.sustain + Math.random() * 10;
        const fadeOut = timing.fadeOut + Math.random() * 5;
        const pause = timing.pause + Math.random() * 15;
        
        const totalTime = createCloudTone(
            frequency,
            baseGain,
            breathRate + (Math.random() - 0.5) * 0.02,
            breathDepth,
            fadeIn,
            sustain,
            fadeOut,
            0
        );
        
        setTimeout(() => scheduleTone(), (totalTime + pause) * 1000);
    }
    
    setTimeout(() => scheduleTone(), timing.initialDelay * 1000);
}

function initAudioSystem() {
    if (!audioContext) audioContext = new (window.AudioContext || window.webkitAudioContext)();
    if (audioContext.state === 'suspended') audioContext.resume();
    
    if (!audioInitialized) {
        masterGain = audioContext.createGain();
        masterGain.connect(audioContext.destination);
        masterGain.gain.setValueAtTime(0.3, audioContext.currentTime);

        // Create ethereal volume fluctuations for the drone
        const etherealLFO = audioContext.createOscillator();
        etherealLFOGain = audioContext.createGain();
        
        etherealLFO.type = 'sine';
        etherealLFO.frequency.setValueAtTime(0.05, audioContext.currentTime); // Very slow fluctuations
        etherealLFOGain.gain.setValueAtTime(0.15, audioContext.currentTime); // Max 15% volume swing
        
        etherealLFO.connect(etherealLFOGain);
        etherealLFOGain.connect(masterGain.gain);
        
        etherealLFO.start(audioContext.currentTime);

        createBreathingTone(fundamental, 0.08, 0.15, 0.3, 0);

        createToneCycle({
            frequency: fundamental * 3/2,
            baseGain: 0.05,
            breathRate: 0.13,
            breathDepth: 0.25,
            timing: {
                fadeIn: 8,
                sustain: 15,
                fadeOut: 8,
                pause: 10,
                initialDelay: 5
            }
        });

        createToneCycle({
            frequency: fundamental * 5/4 * 4,
            baseGain: 0.04,
            breathRate: 0.14,
            breathDepth: 0.2,
            timing: {
                fadeIn: 10,
                sustain: 20,
                fadeOut: 10,
                pause: 15,
                initialDelay: 8
            }
        });

        createToneCycle({
            frequency: fundamental * 15/8,
            baseGain: 0.03,
            breathRate: 0.17,
            breathDepth: 0.2,
            timing: {
                fadeIn: 12,
                sustain: 18,
                fadeOut: 12,
                pause: 20,
                initialDelay: 15
            }
        });

        createToneCycle({
            frequency: fundamental * 7/5 * 2,
            baseGain: 0.025,
            breathRate: 0.11,
            breathDepth: 0.15,
            timing: {
                fadeIn: 15,
                sustain: 12,
                fadeOut: 15,
                pause: 25,
                initialDelay: 20
            }
        });

        createToneCycle({
            frequency: fundamental * 7/4 * 2,
            baseGain: 0.015,
            breathRate: 0.19,
            breathDepth: 0.1,
            timing: {
                fadeIn: 18,
                sustain: 10,
                fadeOut: 18,
                pause: 30,
                initialDelay: 30
            }
        });

        audioInitialized = true;
        console.log('Cloud-like harmonic soundscape initialized');
    }
}

function createBreathingTone(frequency, baseGain, breathRate, breathDepth, startDelay = 0) {
    const ct = audioContext.currentTime;
    
    const oscillator = audioContext.createOscillator();
    const gainNode = audioContext.createGain();
    const lfo = audioContext.createOscillator();
    const lfoGain = audioContext.createGain();
    
    lfo.type = 'sine';
    lfo.frequency.setValueAtTime(breathRate, ct);
    lfoGain.gain.setValueAtTime(baseGain * breathDepth, ct);
    
    lfo.connect(lfoGain);
    lfoGain.connect(gainNode.gain);
    oscillator.connect(gainNode);
    gainNode.connect(masterGain);
    
    oscillator.type = 'sine';
    oscillator.frequency.setValueAtTime(frequency, ct);
    
    gainNode.gain.setValueAtTime(0, ct);
    gainNode.gain.linearRampToValueAtTime(baseGain, ct + 10);
    
    oscillator.start(ct + startDelay);
    lfo.start(ct + startDelay);
}

        let latticeNodes = [];
        let latticeConnections = [];
        let isBuilding = true;
        
        function generateDynamicLattice() {
            const container = document.getElementById('backgroundLattice');
            if (isBuilding) buildLattice(container);
            else dissipateCurrentLattice();
            isBuilding = !isBuilding;
        }
        
        function buildLattice(container) {
            const width = window.innerWidth;
            const height = window.innerHeight;
            const centerX = width / 2;
            const spacing = 120;
            latticeNodes = [];
            latticeConnections = [];
            
            for (let x = spacing; x < width - spacing; x += spacing) {
                for (let y = spacing; y < height - spacing; y += spacing) {
                    if (Math.abs(x - centerX) < 300 && y > height * 0.2 && y < height * 0.8) continue;
                    if (Math.random() < 0.7) {
                        const offsetX = (Math.random() - 0.5) * 60;
                        const offsetY = (Math.random() - 0.5) * 60;
                        const node = document.createElement('div');
                        node.className = 'lattice-node';
                        node.style.left = (x + offsetX) + 'px';
                        node.style.top = (y + offsetY) + 'px';
                        node.style.animationDelay = (Math.random() * 30) + 's';
                        node.style.opacity = '0';
                        setTimeout(() => {
                            if (node.parentNode) {
                                node.style.transition = 'opacity 8s ease-in-out';
                                node.style.opacity = '1';
                            }
                        }, Math.random() * 5000);
                        container.appendChild(node);
                        latticeNodes.push({ element: node, x: x + offsetX, y: y + offsetY });
                    }
                }
            }
            setTimeout(() => connectNodes(container), 3000);
        }
        
        function connectNodes(container) {
            latticeNodes.forEach((node, i) => {
                latticeNodes.slice(i + 1).forEach((otherNode) => {
                    const distance = Math.sqrt(
                        Math.pow(node.x - otherNode.x, 2) +
                        Math.pow(node.y - otherNode.y, 2)
                    );
                    if (distance < 180 && Math.random() < 0.4) {
                        const dx = otherNode.x - node.x;
                        const dy = otherNode.y - node.y;
                        const length = Math.sqrt(dx * dx + dy * dy);
                        const angle = Math.atan2(dy, dx) * 180 / Math.PI;
                        const line = document.createElement('div');
                        line.className = 'lattice-connection';
                        line.style.left = node.x + 'px';
                        line.style.top = node.y + 'px';
                        line.style.width = length + 'px';
                        line.style.transform = `rotate(${angle}deg)`;
                        line.style.animationDelay = Math.random() * 40 + 's';
                        line.style.opacity = '0';
                        setTimeout(() => {
                            if (line.parentNode) {
                                line.style.transition = 'opacity 6s ease-in-out';
                                line.style.opacity = '1';
                            }
                        }, Math.random() * 8000);
                        container.appendChild(line);
                        latticeConnections.push(line);
                    }
                });
            });
        }
        
        function dissipateCurrentLattice() {
            [...latticeNodes, ...latticeConnections].forEach(item => {
                const element = item.element || item;
                if (element && element.parentNode) {
                    element.style.transition = 'opacity 12s ease-in-out';
                    element.style.opacity = '0';
                    setTimeout(() => {
                        if (element.parentNode) element.remove();
                    }, 12000);
                }
            });
            latticeNodes = [];
            latticeConnections = [];
        }

        function createLinkConstellations() {
            const linkConstellations = document.querySelectorAll('.link-constellation');
            
            linkConstellations.forEach((constellation, linkIndex) => {
                const starCount = Math.floor(Math.random() * 3) + 3;
                const stars = [];
                
                for (let i = 0; i < starCount; i++) {
                    const star = document.createElement('div');
                    star.className = 'link-star';
                    
                    let x, y;
                    if (Math.random() > 0.5) {
                        x = Math.random() > 0.5 ? Math.random() * 20 : 80 + Math.random() * 20;
                    } else {
                        x = 20 + Math.random() * 60;
                        y = Math.random() > 0.5 ? Math.random() * 30 : 70 + Math.random() * 30;
                    }
                    
                    if (y === undefined) y = 20 + Math.random() * 60;
                    
                    star.style.left = x + '%';
                    star.style.top = y + '%';
                    star.style.animationDelay = (Math.random() * 4) + 's';
                    
                    constellation.appendChild(star);
                    stars.push({ element: star, x, y });
                }
                
                stars.forEach((star, i) => {
                    stars.slice(i + 1).forEach(otherStar => {
                        const distance = Math.sqrt(
                            Math.pow(star.x - otherStar.x, 2) + 
                            Math.pow(star.y - otherStar.y, 2)
                        );
                        
                        if (distance < 40 && distance > 15 && Math.random() < 0.6) {
                            const connection = document.createElement('div');
                            connection.className = 'link-connection';
                            
                            const dx = otherStar.x - star.x;
                            const dy = otherStar.y - star.y;
                            const length = Math.sqrt(dx * dx + dy * dy);
                            const angle = Math.atan2(dy, dx) * 180 / Math.PI;
                            
                            connection.style.left = star.x + '%';
                            connection.style.top = star.y + '%';
                            connection.style.width = length + '%';
                            connection.style.transform = `rotate(${angle}deg)`;
                            connection.style.animationDelay = (Math.random() * 6) + 's';
                            
                            constellation.appendChild(connection);
                        }
                    });
                });
            });
            
            setTimeout(() => {
                linkConstellations.forEach(constellation => {
                    constellation.innerHTML = '';
                });
                createLinkConstellations();
            }, 30000);
        }

        document.addEventListener('DOMContentLoaded', function() {
            const albumTitle = document.querySelector('.album-title');
            const albumWords = document.querySelectorAll('.album-word');
            const profileImage = document.querySelector('.profile-image');
            
            // Start the cover intro animation immediately
            // profileImage.classList.add('intro-reveal');
            
            albumWords.forEach(word => {
                const letters = word.querySelectorAll('.letter');
                letters.forEach(letter => {
                    const randomY = (Math.random() - 0.5) * 4;
                    letter.style.setProperty('--random-y', `${randomY}px`);
                });
            });

            const wordHeights = ['12px', '-8px', '15px', '-6px'];
            albumWords.forEach((word, index) => {
                word.style.setProperty('--word-flash-y', wordHeights[index]);
            });

            // Wait longer before starting the album title animation
            setTimeout(() => {
                let wordIndex = 0;
                const wordInterval = setInterval(() => {
                if (wordIndex < albumWords.length) {
                    const word = albumWords[wordIndex];
                    
                    word.style.transform = `translateY(${wordHeights[wordIndex]})`;
                    word.classList.add('flash-word');
                    
                    word.querySelectorAll('.letter').forEach(letter => {
                        letter.classList.add('flash');
                    });
                    
                    setTimeout(() => {
                        word.style.transition = 'opacity 0.15s ease-out';
                        word.style.opacity = '0';
                        word.style.filter = 'none';
                        word.style.textShadow = 'none';
                        word.style.animation = 'none';
                    }, 350);
                    
                    wordIndex++;
                } else {
                    clearInterval(wordInterval);
                    
                    setTimeout(() => {
                        albumWords.forEach((word, index) => {
                            word.style.transform = 'translateY(0)';
                            word.style.transition = 'none';
                            word.style.opacity = '1';
                            
                            setTimeout(() => {
                                word.style.filter = 'brightness(2.5)';
                                word.style.textShadow = '0 0 20px rgba(255,255,255,0.9)';
                                word.style.transform = 'scale(1.05)';
                                
                                setTimeout(() => {
                                    word.style.filter = 'none';
                                    word.style.textShadow = 'none';
                                    word.style.transform = 'scale(1)';
                                }, 150);
                            }, index * 20);
                        });
                        
                        setTimeout(() => {
                            albumTitle.classList.add('final-reveal');
                            
                            setTimeout(() => {
                                const lastWord = document.querySelector('.album-word.crossed-out');
                                if (lastWord) {
                                    lastWord.classList.add('show-cross');
                                }
                                
                                setTimeout(() => {
                                    startBloodDrip();
                                }, 200);
                            }, 150);
                        }, 200);
                    }, 580);
                }
                            }, 300);
            }, 888); // Wait 0.888 seconds before starting album title animation

            function startBloodDrip() {
                const bloodDrip = document.querySelector('.blood-drip');
                
                // Start the cover zoom-out during blood drip
                profileImage.classList.add('slide-to-normal');
                
                bloodDrip.style.transition = 'height 2.5s cubic-bezier(0.4, 0, 0.2, 1)';
                
                setTimeout(() => {
                    bloodDrip.style.height = '420px';
                }, 50);
                
                const links = document.querySelectorAll('.link-item');
                const revealDelay = 2500 / links.length;
                
                links.forEach((link, index) => {
                    setTimeout(() => {
                        link.classList.add('reveal');
                        
                        if (index === links.length - 1) {
    setTimeout(() => {
        document.querySelector('.media-showcase').classList.add('reveal-media');
        
        setTimeout(() => {
            document.querySelector('.footer').classList.add('reveal-footer');
        }, 600);
        
        // Don't start slideshow here - wait for blood drip to complete
        
    }, 800);
}
                    }, 500 + (revealDelay * index));
                });
                
                // Start slideshow AFTER blood drip completes (2.5s + small buffer)
                setTimeout(() => {
                    console.log('Blood drip complete, starting slideshow');
                    initializeSlideshow();
                }, 3000);
            }

            // FIXED LYRIC WHISPER SYSTEM
            const phrases = [
                ["ITS", "HARD", "TO", "BREATHE"],
                ["TOO", "DARK", "TO", "SEE"],
                ["I", "WILL", "STAY"],
                ["THIS", "IS", "ALL", "I", "AM"],
                ["BURNING", "ALIVE"],
                ["I", "SEE", "YOU"],
                ["DONT", "LET", "ME", "LIE"],
                ["FOLLOW"],
                ["should", "i", "go?"],
                ["love", "has", "a", "way"],
                ["love", "always", "knows"],
                ["love", "holds", "its", "own"],
                ["your", "heart", "will", "hear"],
                ["its", "the", "light"],
                ["nowhere", "else", "to", "go"],
                ["never", "knows"],
                ["hold", "on", "dearly"],
                ["truth", "can", "take", "all", "night"],
                ["BURNING"],
                ["FOLLOW"],
                ["LISTEN"],
                ["REMEMBER"],
                ["stay"],
                ["see"],
                ["hear"],
                ["truth"],
                ["HOLD"],
                ["dearly"]
            ];

            // Get whisper elements in order: Spotify, Apple, BeReal-Left, BeReal-Right, Instagram, Facebook
            const whisperElements = [
                document.querySelector('.link-item:nth-child(1) .lyric-whisper'), // Spotify
                document.querySelector('.link-item:nth-child(2) .lyric-whisper'), // Apple Music
                document.querySelector('.link-item:nth-child(3) .lyric-whisper.bereal-left'), // BeReal Left
                document.querySelector('.link-item:nth-child(3) .lyric-whisper.bereal-right'), // BeReal Right
                document.querySelector('.link-item:nth-child(4) .lyric-whisper'), // Instagram
                document.querySelector('.link-item:nth-child(5) .lyric-whisper')  // Facebook
            ];

            function createCrypticWord(word) {
                const letters = word.split('');
                const crypticClasses = ['', 'up', 'down', 'up2', 'down2'];
                
                return letters.map(letter => {
                    const randomClass = Math.random() < 0.4 ? crypticClasses[Math.floor(Math.random() * crypticClasses.length)] : '';
                    return `<span class="letter ${randomClass}">${letter}</span>`;
                }).join('');
            }

            function clearAllWhispers() {
                whisperElements.forEach(el => {
                    if (el) {
                        el.classList.remove('active', 'fade-out', 'single-word', 'peripheral');
                        el.innerHTML = '';
                        el.style.opacity = '0';
                    }
                });
            }

            function displayPhrase(phraseWords) {
                clearAllWhispers();

                const isSingleWord = phraseWords.length === 1;
                const isPeripheral = Math.random() < 0.3;
                
                // Create available positions - but handle BeReal specially
                let availablePositions = [];
                
                // Always include the 4 main positions
                availablePositions.push(0, 1, 4, 5); // Spotify, Apple, Instagram, Facebook
                
                // Only sometimes include BeReal positions (50% chance each, increased from 40%)
                if (Math.random() < 0.5) {
                    availablePositions.push(2); // BeReal-left
                }
                if (Math.random() < 0.5) {
                    availablePositions.push(3); // BeReal-right
                }
                
                // Handle positioning based on phrase type
                if (isSingleWord) {
                    // Single words can appear anywhere - full randomization
                    availablePositions.sort(() => Math.random() - 0.5);
                } else if (Math.random() < 0.75) {
                    // 75% chance: keep multi-word phrases in natural order (increased from 60%)
                    availablePositions.sort((a, b) => a - b);
                } else {
                    // 25% chance: shuffle multi-word phrases for variety (decreased from 40%)
                }
                
                // Take only as many positions as we have words, but ensure we use them
                const wordsToPlace = Math.min(phraseWords.length, availablePositions.length);
                const positionsToUse = availablePositions.slice(0, wordsToPlace);

                // Make sure we actually have positions and words to display
                if (positionsToUse.length === 0 || phraseWords.length === 0) {
                    console.log("No positions or words available, skipping phrase");
                    return;
                }

                console.log(`Displaying phrase "${phraseWords.join(' ')}" on positions:`, positionsToUse);

                phraseWords.slice(0, positionsToUse.length).forEach((word, index) => {
                    const elementIndex = positionsToUse[index];
                    const element = whisperElements[elementIndex];
                    
                    if (element) {
                        setTimeout(() => {
                            element.innerHTML = createCrypticWord(word);
                            
                            if (isSingleWord) {
                                element.classList.add('single-word');
                            } else if (isPeripheral) {
                                element.classList.add('peripheral');
                            }
                            
                            element.classList.add('active');
                            
                            // Ensure letters are visible
                            const letters = element.querySelectorAll('.letter');
                            letters.forEach(letter => {
                                letter.style.opacity = '1';
                            });
                        }, index * (isSingleWord ? 0 : 400));
                    }
                });

                // Clear after sustain time
                const sustainTime = isSingleWord ? 300 : 2000;
                setTimeout(() => {
                    whisperElements.forEach(el => {
                        if (el && el.classList.contains('active')) {
                            el.classList.remove('active');
                            el.classList.add('fade-out');
                        }
                    });
                }, positionsToUse.length * (isSingleWord ? 0 : 400) + sustainTime);
            }
            
            function startLyricCycle() {
                function nextPhrase() {
                    const randomIndex = Math.floor(Math.random() * phrases.length);
                    const phrase = phrases[randomIndex];
                    
                    displayPhrase(phrase);
                    
                    const isSingleWord = phrase.length === 1;
                    const baseDelay = isSingleWord ? 1500 : 3000;
                    const randomDelay = Math.random() * 2000 + 1000;
                    const cycleDelay = baseDelay + randomDelay;
                    
                    setTimeout(nextPhrase, cycleDelay);
                }
                
                setTimeout(nextPhrase, 3000);
            }

            startLyricCycle();
            createLinkConstellations();
            generateDynamicLattice();
            setInterval(generateDynamicLattice, 45000);
            
            // Start cryptic image flashing system
            startCrypticFlashing();
            
            // Simple spotlight system
            const spotlight = document.getElementById('spotlight');
            if (spotlight) {
                function moveSpotlight() {
                    const targetX = 10 + Math.random() * 80;
                    const targetY = 10 + Math.random() * 80;
                    
                    spotlight.style.setProperty('--spotlight-x', targetX + '%');
                    spotlight.style.setProperty('--spotlight-y', targetY + '%');
                    
                    const intensities = ['', 'intense', 'soft', 'pinpoint'];
                    const currentIntensity = intensities[Math.floor(Math.random() * intensities.length)];
                    spotlight.className = `spotlight-mask ${currentIntensity}`;
                    
                    setTimeout(moveSpotlight, 6000 + Math.random() * 8000);
                }
                
                setTimeout(moveSpotlight, 5000);
            }
            
            window.addEventListener('resize', () => {
                document.getElementById('backgroundLattice').innerHTML = '';
                generateDynamicLattice();
            });
            
            function start() { initAudioSystem(); }
            document.addEventListener('click', start, { once: true });
            document.addEventListener('keydown', start, { once: true });
        });

        function createEtherealParticle() {
            const particle = document.createElement('div');
            particle.style.position = 'fixed';
            particle.style.width = '1px';
            particle.style.height = '1px';
            particle.style.background = 'rgba(255, 255, 255, 0.4)';
            particle.style.borderRadius = '50%';
            particle.style.pointerEvents = 'none';
            particle.style.left = Math.random() * window.innerWidth + 'px';
            particle.style.top = window.innerHeight + 'px';
            particle.style.zIndex = '0';
            particle.style.boxShadow = '0 0 3px rgba(255, 255, 255, 0.3)';
            
            document.body.appendChild(particle);
            
            const animation = particle.animate([
                { 
                    transform: 'translateY(0px) translateX(0px)', 
                    opacity: 0.6 
                },
                { 
                    transform: `translateY(-${window.innerHeight + 100}px) translateX(${(Math.random() - 0.5) * 200}px)`, 
                    opacity: 0 
                }
            ], {
                duration: Math.random() * 12000 + 8000,
                easing: 'ease-out'
            });
            
            animation.onfinish = () => particle.remove();
        }

        // Cryptic image flashing system
        function startCrypticFlashing() {
            const flashImages = [
                'FlashPromo1.jpg',
                'FlashPromo2.jpg', 
                'FlashPromo3.jpg'
            ];
            
            const flashElements = [
                document.getElementById('crypticFlash1'),
                document.getElementById('crypticFlash2'),
                document.getElementById('crypticFlash3')
            ];
            
            // Set background images
            flashElements.forEach((element, index) => {
                if (element) {
                    element.style.backgroundImage = `url('./${flashImages[index]}')`;
                }
            });
            
            function triggerCrypticFlash() {
                // Random chance of flash (70% chance every cycle)
                if (Math.random() < 0.7) {
                    const randomElement = flashElements[Math.floor(Math.random() * flashElements.length)];
                    
                    if (randomElement) {
                        // Clear any existing animation
                        randomElement.classList.remove('flash-active');
                        
                        // Trigger after small delay to ensure class removal
                        setTimeout(() => {
                            randomElement.classList.add('flash-active');
                            
                            // Remove class after animation completes
                            setTimeout(() => {
                                randomElement.classList.remove('flash-active');
                            }, 800);
                        }, 50);
                    }
                }
                
                // Schedule next flash between 8-15 seconds
                const nextFlash = Math.random() * 7000 + 8000;
                setTimeout(triggerCrypticFlash, nextFlash);
            }
            
            // Start the flashing cycle after initial page setup
            setTimeout(triggerCrypticFlash, 12000);
        }
// Enhanced slideshow system with better video handling and timeouts
let currentSlide = 0;
let slideInterval;
let originalDroneGain = 0.3;

function initializeSlideshow() {
    const slides = document.querySelectorAll('.slide');
    if (slides.length === 0) return;
    
    console.log('Starting slideshow initialization...');
    
    // Start immediately with first slide, don't wait for all videos
    showSlide(0);
    
    // Preload videos in background but don't block slideshow
    preloadVideosInBackground();
    
    // Start the slideshow timer
    setTimeout(() => startSlideshow(), 1000);
}

function preloadVideosInBackground() {
    const videos = document.querySelectorAll('.showcase-video video');
    console.log(`Found ${videos.length} videos to preload`);
    
    videos.forEach((video, index) => {
        console.log(`Preloading video ${index + 1}: ${video.querySelector('source').src}`);
        video.load();
    });
}

function startSlideshow() {
    const currentSlideElement = document.querySelector('.slide.active');
    if (!currentSlideElement) {
        console.error('No active slide found!');
        return;
    }
    
    // Double-check we don't have an existing timer
    if (slideInterval) {
        console.log('Clearing existing timer before starting new one');
        clearTimeout(slideInterval);
        slideInterval = null;
    }
    
    const isVideo = currentSlideElement.hasAttribute('data-video');
    const duration = parseInt(currentSlideElement.getAttribute('data-duration')) || 5000;
    
    console.log(`Starting slideshow for slide ${currentSlide}: ${isVideo ? 'Video' : 'Image'}, Duration: ${duration}ms`);
    
    if (isVideo) {
        const video = currentSlideElement.querySelector('video');
        if (video) {
            const hasAudio = currentSlideElement.getAttribute('data-audio') === 'true';
            
            const playVideo = () => {
                // Always try to play the video, handle audio separately
                video.currentTime = 0;
                
                // Handle audio ducking only if audio system is initialized
                if (hasAudio && audioInitialized && masterGain && !isDucking) {
                    isDucking = true;
                    
                    // Disconnect the ethereal LFO temporarily and duck smoothly
                    if (etherealLFOGain) {
                        etherealLFOGain.disconnect();
                    }
                    
                    // Smooth exponential ramp to ducked level
                    masterGain.gain.cancelScheduledValues(audioContext.currentTime);
                    masterGain.gain.setValueAtTime(masterGain.gain.value, audioContext.currentTime);
                    masterGain.gain.exponentialRampToValueAtTime(0.08, audioContext.currentTime + 4.0);
                    
                    video.volume = 0.35;
                    video.muted = false;
                } else {
                    // If audio not initialized, keep video muted but still play it
                    video.muted = true;
                    video.volume = 0.35;
                }
                
                video.play().then(() => {
                    console.log(`Video playing: ${video.duration} seconds${video.muted ? ' (muted)' : ''}`);
                }).catch(e => {
                    console.error('Video play failed:', e);
                    // Only skip if video truly can't play
                    setTimeout(() => nextSlide(), 3000);
                });
            };
            
            // Wait for video to be ready
            if (video.readyState >= 3) { // HAVE_FUTURE_DATA
                console.log('Video ready, playing now');
                playVideo();
            } else {
                console.log('Video buffering...');
                video.addEventListener('canplaythrough', () => {
                    console.log('Video fully buffered');
                    playVideo();
                }, { once: true });
            }
            
            // Only advance when video ends naturally
            video.addEventListener('ended', () => {
                console.log('Video completed naturally');
                nextSlide();
            }, { once: true });
        }
    } else {
        // For images, use the specified duration
        console.log(`Image will display for ${duration}ms`);
        slideInterval = setTimeout(() => {
            console.log('Image timer complete, moving to next slide');
            nextSlide();
        }, duration);
    }
}

function nextSlide() {
    console.log('Moving to next slide...');
    
    const currentSlideElement = document.querySelector('.slide.active');
    
    // Handle audio restoration only if we were ducking and audio is initialized
    if (currentSlideElement && currentSlideElement.getAttribute('data-audio') === 'true' && audioInitialized && masterGain && isDucking) {
        isDucking = false;
        
        // Smooth exponential restoration
        masterGain.gain.cancelScheduledValues(audioContext.currentTime);
        masterGain.gain.setValueAtTime(masterGain.gain.value, audioContext.currentTime);
        masterGain.gain.exponentialRampToValueAtTime(originalDroneGain, audioContext.currentTime + 5.0);
        
        // Reconnect ethereal fluctuations after restoration
        setTimeout(() => {
            if (etherealLFOGain && !isDucking) {
                etherealLFOGain.connect(masterGain.gain);
            }
        }, 5000);
    }
    
    currentSlideElement.classList.add('fading-out');
    
    setTimeout(() => {
        currentSlide = (currentSlide + 1) % document.querySelectorAll('.slide').length;
        console.log(`Advancing to slide ${currentSlide}`);
        showSlide(currentSlide);
    }, 1200);
}

function showSlide(index) {
    // Clear any existing timers first
    if (slideInterval) {
        clearTimeout(slideInterval);
        slideInterval = null;
    }
    
    const slides = document.querySelectorAll('.slide');
    
    slides.forEach(slide => {
        const video = slide.querySelector('video');
        if (video) {
            video.pause();
            video.currentTime = 0;
            // Keep videos muted by default, only unmute if audio is initialized
            video.muted = !audioInitialized || slide.getAttribute('data-audio') !== 'true';
        }
    });
    
    slides.forEach(slide => {
        slide.classList.remove('active', 'fading-out');
    });
    
    if (slides[index]) {
        slides[index].classList.add('active');
        currentSlide = index;
        console.log(`Showing slide ${index}, waiting 500ms before starting timer`);
        
        // Wait longer before starting the slideshow to ensure clean state
        setTimeout(() => startSlideshow(), 500);
    }
}     
    

function setVideoDuration(video) {
    console.log(`Video "${video.src}" duration: ${video.duration}s`);
}
    </script>
</body>
</html>